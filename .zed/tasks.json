[
  {
    "label": "üîß Rust: Check All",
    "command": "cargo",
    "args": ["check", "--workspace"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üß™ Rust: Test (nextest)",
    "command": "cargo",
    "args": ["nextest", "run"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üé® Rust: Format",
    "command": "cargo",
    "args": ["fmt"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üìã Rust: Clippy",
    "command": "cargo",
    "args": ["clippy", "--workspace", "--all-targets"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üîÑ Generate Types",
    "command": "./typegen.sh",
    "args": [],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üèóÔ∏è Build Server",
    "command": "cargo",
    "args": ["build", "--package", "server"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üöÄ Run Server",
    "command": "cargo",
    "args": ["run", "--package", "server"],
    "reveal": "always",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üåê Run Web (Leptos)",
    "command": "trunk",
    "args": ["serve"],
    "reveal": "always",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}/web-leptos"
  },
  {
    "label": "üì± Build & Run iOS",
    "command": "./build-and-run.sh",
    "args": [],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}/iOS"
  },
  {
    "label": "üì± iOS Debug Logs",
    "command": "sh",
    "args": [
      "-c",
      "echo 'üîç Starting iOS debug logging...' && xcrun simctl spawn booted log stream --style compact --predicate 'process == \"Intrada\" OR messageType == \"Error\" OR messageType == \"Fault\"' 2>/dev/null || xcrun simctl spawn booted log stream --style compact --level debug"
    ],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}/iOS"
  },
  {
    "label": "üì± iOS Crash Logs",
    "command": "sh",
    "args": [
      "-c",
      "echo 'üí• Checking for recent crash logs...' && find ~/Library/Logs/DiagnosticReports -name '*Intrada*' -mtime -1 -exec echo 'Found crash: {}' \\; -exec cat {} \\; 2>/dev/null || echo 'No recent crash logs found. Run this after a crash occurs.'"
    ],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}/iOS"
  },
  {
    "label": "üßπ Clean All",
    "command": "cargo",
    "args": ["clean"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üîç Full Check Pipeline",
    "command": "sh",
    "args": [
      "-c",
      "cargo fmt --check && cargo clippy --workspace --all-targets && cargo nextest run"
    ],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  }
]
