[
  {
    "label": "üîß Rust: Check All",
    "command": "cargo",
    "args": ["check", "--workspace"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üß™ Rust: Test (nextest)",
    "command": "cargo",
    "args": ["nextest", "run"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üé® Rust: Format",
    "command": "cargo",
    "args": ["fmt"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üìã Rust: Clippy",
    "command": "cargo",
    "args": ["clippy", "--workspace", "--all-targets"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üîÑ Generate Types",
    "command": "./typegen.sh",
    "args": [],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üèóÔ∏è Build Server",
    "command": "cargo",
    "args": ["build", "--package", "server"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üöÄ Run Server",
    "command": "cargo",
    "args": ["run", "--package", "server"],
    "reveal": "always",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üåê Run Web (Leptos)",
    "command": "trunk",
    "args": ["serve"],
    "reveal": "always",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}/web-leptos"
  },
  {
    "label": "üì± Build & Run iOS",
    "command": "sh",
    "args": [
      "-c",
      "set -e && echo 'üèóÔ∏è  Building app...' && xcodebuild -project Intrada.xcodeproj -scheme Intrada -configuration Debug -destination 'platform=iOS Simulator,name=iPhone 16' -sdk iphonesimulator build && echo 'üì± Booting simulator...' && xcrun simctl boot 086A9B73-B0D8-4EDC-A917-64556A1ACCD1 2>/dev/null || true && sleep 2 && echo 'üì≤ Installing app...' && APP_PATH=$(find ~/Library/Developer/Xcode/DerivedData -name 'Intrada.app' -path '*/Build/Products/Debug-iphonesimulator/*' | head -1) && xcrun simctl install booted \"$APP_PATH\" && echo 'üöÄ Launching app...' && open -a Simulator && xcrun simctl launch booted com.jonyardley.Intrada && echo '‚úÖ App launched successfully!'"
    ],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}/iOS"
  },
  {
    "label": "üßπ Clean All",
    "command": "cargo",
    "args": ["clean"],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  },
  {
    "label": "üîç Full Check Pipeline",
    "command": "sh",
    "args": [
      "-c",
      "cargo fmt --check && cargo clippy --workspace --all-targets && cargo nextest run"
    ],
    "reveal": "always",
    "hide": "never",
    "shell": "system",
    "cwd": "${ZED_WORKTREE_ROOT}"
  }
]
